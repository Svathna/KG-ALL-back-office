<div *ngIf="isFetching">
    <mat-progress-bar mode="query"></mat-progress-bar>
</div>

<div fxLayout="column" fxLayoutGap="10px">
    <!-- <div class="pb-3" fxLayout="row" fxLayoutGap="40px" fxLayoutAlign="start center">
        <h3 class="m-t-5 text-khmer-bold">Ministry of Commerce</h3>
    </div> -->
    <div class="pb-3">
        <div class="table-wrapper">
            <div id="tax_per_month_table">
                <h3 class="mt-3 mb-3 ml-3 text-khmer-bold">Monthly Tax In {{ currentDate | date: 'yyyy'}}</h3>
                <tax-per-month [companyId]="companyId" [taxHistoryId]="taxHistory._id" [taxPerMonths]="taxPerMonths"
                    (updated)="onTaxPerMonthUpdated($event)" (removed)="onTaxPerMonthRemoved($event)"></tax-per-month>
            </div>
            <!-- <div class="mt-3">
                <div *ngIf="taxPerMonths.length > 0" fxFlex fxLayoutAlign="end">
                    <button [disabled]="isFetching" color="primary" mat-raised-button (click)="exportPdf()">
                        Export Pdf
                    </button>
                </div>
            </div> -->
        </div>
    </div>
    <div class="pb-3">
        <div class="table-wrapper">
            <h3 class="mt-3 mb-3 ml-3 text-khmer-bold">Annual Tax (last 5 years)</h3>
            <tax-per-year [companyId]="companyId" [taxHistoryId]="taxHistory._id"  [taxPerYears]="taxPerYears" (updated)="onTaxPerMonthUpdated($event)"></tax-per-year>
        </div>
    </div>
</div>
